import { db } from '@/db';
import { equipment } from '@/db/schema';

async function main() {
    const now = Date.now();
    const sixMonthsAgo = now - (180 * 24 * 60 * 60 * 1000);
    const threeMonthsAgo = now - (90 * 24 * 60 * 60 * 1000);
    const oneMonthFromNow = now + (30 * 24 * 60 * 60 * 1000);
    const threeMonthsFromNow = now + (90 * 24 * 60 * 60 * 1000);
    const sixMonthsFromNow = now + (180 * 24 * 60 * 60 * 1000);

    const sampleEquipment = [
        {
            name: 'ECG Monitor',
            model: 'CardioMax 5000',
            serialNumber: 'SN-2023-1001',
            manufacturer: 'Philips Healthcare',
            category: 'Cardiac Monitoring',
            location: 'ICU Floor 3',
            status: 'operational',
            purchaseDate: Date.UTC(2023, 2, 15),
            warrantyExpiry: Date.UTC(2027, 2, 15),
            lastMaintenance: threeMonthsAgo,
            nextMaintenance: threeMonthsFromNow,
            notes: 'Regular calibration performed. All leads functioning properly.',
            createdAt: now,
            updatedAt: now,
        },
        {
            name: 'Patient Monitor',
            model: 'VitalView Pro 3000',
            serialNumber: 'SN-2022-2045',
            manufacturer: 'GE Healthcare',
            category: 'Cardiac Monitoring',
            location: 'Cardiology Ward',
            status: 'operational',
            purchaseDate: Date.UTC(2022, 8, 20),
            warrantyExpiry: Date.UTC(2026, 8, 20),
            lastMaintenance: sixMonthsAgo,
            nextMaintenance: oneMonthFromNow,
            notes: 'Software updated to latest version. Display brightness adjusted.',
            createdAt: now,
            updatedAt: now,
        },
        {
            name: 'Ultrasound Machine',
            model: 'UltraScan Pro X2',
            serialNumber: 'SN-2021-3156',
            manufacturer: 'Siemens Healthineers',
            category: 'Medical Imaging',
            location: 'Radiology Department',
            status: 'operational',
            purchaseDate: Date.UTC(2021, 5, 10),
            warrantyExpiry: Date.UTC(2025, 5, 10),
            lastMaintenance: threeMonthsAgo,
            nextMaintenance: threeMonthsFromNow,
            notes: 'Transducer probes cleaned and tested. Image quality excellent.',
            createdAt: now,
            updatedAt: now,
        },
        {
            name: 'MRI Scanner',
            model: 'MagnetScan 7T Elite',
            serialNumber: 'SN-2020-4287',
            manufacturer: 'Siemens Healthineers',
            category: 'Medical Imaging',
            location: 'Radiology Department',
            status: 'maintenance',
            purchaseDate: Date.UTC(2020, 11, 5),
            warrantyExpiry: Date.UTC(2025, 11, 5),
            lastMaintenance: threeMonthsAgo,
            nextMaintenance: oneMonthFromNow,
            notes: 'Scheduled magnet calibration in progress. Expected completion in 48 hours.',
            createdAt: now,
            updatedAt: now,
        },
        {
            name: 'Vital Signs Monitor',
            model: 'VitalCheck 3000',
            serialNumber: 'SN-2023-5412',
            manufacturer: 'Philips Healthcare',
            category: 'Patient Monitoring',
            location: 'Emergency Room',
            status: 'operational',
            purchaseDate: Date.UTC(2023, 1, 18),
            warrantyExpiry: Date.UTC(2027, 1, 18),
            lastMaintenance: threeMonthsAgo,
            nextMaintenance: threeMonthsFromNow,
            notes: 'Blood pressure cuff replaced. Temperature sensor calibrated.',
            createdAt: now,
            updatedAt: now,
        },
        {
            name: 'Infusion Pump',
            model: 'MediFlow Smart IV',
            serialNumber: 'SN-2022-6589',
            manufacturer: 'Abbott',
            category: 'Patient Monitoring',
            location: 'ICU Floor 3',
            status: 'operational',
            purchaseDate: Date.UTC(2022, 6, 22),
            warrantyExpiry: Date.UTC(2026, 6, 22),
            lastMaintenance: sixMonthsAgo,
            nextMaintenance: oneMonthFromNow,
            notes: 'Flow rate accuracy verified. Alarm system tested successfully.',
            createdAt: now,
            updatedAt: now,
        },
        {
            name: 'Blood Analyzer',
            model: 'HematoScan Pro 2000',
            serialNumber: 'SN-2021-7634',
            manufacturer: 'Roche Diagnostics',
            category: 'Laboratory',
            location: 'Laboratory Building A',
            status: 'operational',
            purchaseDate: Date.UTC(2021, 9, 14),
            warrantyExpiry: Date.UTC(2025, 9, 14),
            lastMaintenance: threeMonthsAgo,
            nextMaintenance: threeMonthsFromNow,
            notes: 'Reagent levels checked. Quality control tests passed.',
            createdAt: now,
            updatedAt: now,
        },
        {
            name: 'Centrifuge',
            model: 'SpinMax 5000 RPM',
            serialNumber: 'SN-2019-8756',
            manufacturer: 'Roche Diagnostics',
            category: 'Laboratory',
            location: 'Laboratory Building A',
            status: 'operational',
            purchaseDate: Date.UTC(2019, 4, 8),
            warrantyExpiry: Date.UTC(2023, 4, 8),
            lastMaintenance: sixMonthsAgo,
            nextMaintenance: sixMonthsFromNow,
            notes: 'Rotor balance verified. Safety interlock tested.',
            createdAt: now,
            updatedAt: now,
        },
        {
            name: 'Surgical Microscope',
            model: 'OptiView HD Surgical',
            serialNumber: 'SN-2022-9821',
            manufacturer: 'Medtronic',
            category: 'Surgical',
            location: 'Operating Room 2',
            status: 'maintenance',
            purchaseDate: Date.UTC(2022, 10, 30),
            warrantyExpiry: Date.UTC(2026, 10, 30),
            lastMaintenance: threeMonthsAgo,
            nextMaintenance: oneMonthFromNow,
            notes: 'Optical alignment adjustment needed. LED light source replacement scheduled.',
            createdAt: now,
            updatedAt: now,
        },
        {
            name: 'Defibrillator',
            model: 'LifeSaver AED Plus',
            serialNumber: 'SN-2023-1093',
            manufacturer: 'Medtronic',
            category: 'Surgical',
            location: 'Emergency Room',
            status: 'operational',
            purchaseDate: Date.UTC(2023, 0, 12),
            warrantyExpiry: Date.UTC(2028, 0, 12),
            lastMaintenance: threeMonthsAgo,
            nextMaintenance: threeMonthsFromNow,
            notes: 'Battery replaced. Pads expiration checked. Self-test passed.',
            createdAt: now,
            updatedAt: now,
        },
        {
            name: 'X-Ray Machine',
            model: 'RadioScan Digital 4000',
            serialNumber: 'SN-2020-1145',
            manufacturer: 'GE Healthcare',
            category: 'Diagnostic',
            location: 'Radiology Department',
            status: 'out_of_service',
            purchaseDate: Date.UTC(2020, 3, 25),
            warrantyExpiry: Date.UTC(2024, 3, 25),
            lastMaintenance: sixMonthsAgo,
            nextMaintenance: oneMonthFromNow,
            notes: 'Generator malfunction detected. Replacement parts ordered. Service technician scheduled.',
            createdAt: now,
            updatedAt: now,
        },
        {
            name: 'CT Scanner',
            model: 'ComputeScan 128 Slice',
            serialNumber: 'SN-2019-1267',
            manufacturer: 'Siemens Healthineers',
            category: 'Diagnostic',
            location: 'Radiology Department',
            status: 'retired',
            purchaseDate: Date.UTC(2019, 1, 8),
            warrantyExpiry: Date.UTC(2023, 1, 8),
            lastMaintenance: sixMonthsAgo,
            nextMaintenance: 0,
            notes: 'Unit retired after 5 years of service. Replaced with newer 256-slice model. Awaiting disposal.',
            createdAt: now,
            updatedAt: now,
        },
    ];

    await db.insert(equipment).values(sampleEquipment);
    
    console.log('✅ Equipment seeder completed successfully');
}

main().catch((error) => {
    console.error('❌ Seeder failed:', error);
});